function getMousePos(e,t){var n=e.getBoundingClientRect(),r=document.documentElement,i=t.clientX-n.left,s=t.clientY-n.top;return{"x":i,"y":s}}function hideButton(){document.getElementById("startGame").style.visibility="hidden"}function showButton(){document.getElementById("startGame").style.visibility="visible"}var Asteroid=function(e){this.id=Utils.getId(),this.type="asteroid",this.x=canvas.width+100,this.y=Math.floor(Math.random()*(canvas.height-50))+1,this.direction=Math.floor(Math.random()*2)+0,this.width=25,this.height=this.width,this.speed=Math.floor(Math.random()*51+10),this.damage=Math.floor(Math.random()*(35+this.speed-10+1)+10),this.image=new Image,this.image.src="images/sprite.png",this.image.positions=Asteroid.getImage(),this.image.asteroidx=this.image.positions[0],this.image.asteroidy=this.image.positions[1],this.image.tagx=722,this.image.tagy=42,this.updateCounter=1,this.first=e,this.collided=!1};Asteroid.imageArray=[],Asteroid.getImage=function(){return Math.floor(Math.random()*(1-0+1))+0==1?(Asteroid.imageArray[0]=655,Asteroid.imageArray[1]=59):(Asteroid.imageArray[0]=628,Asteroid.imageArray[1]=59),Asteroid.imageArray},Asteroid.prototype.update=function(){_this=this,this.x-=.1*this.speed,this.direction===1?this.y-=.5:this.y+=.5,this.x<=-50&&this.destroy(),this.collided===!0&&(this.image.planetx=601,this.image.planety=59),Game.collisionDetection(this),this.updateCounter++},Asteroid.prototype.draw=function(){this.first===1&&canvas.ctx.drawImage(this.image,this.image.tagx,this.image.tagy,46,38,this.x-10,this.y-this.height-25,46,38),this.collided===!1?canvas.ctx.drawImage(this.image,this.image.asteroidx,this.image.asteroidy,this.width,this.height,this.x,this.y,this.width,this.height):canvas.ctx.drawImage(this.image,this.image.planetx,this.image.planety,this.width,this.height,this.x,this.y,this.width,this.height)},Asteroid.prototype.destroy=function(){Game.removeObject(this)},_canvas=document.getElementById("myCanvas"),canvas={"ctx":_canvas.getContext("2d"),"width":_canvas.width,"height":_canvas.height},currentMousePos={"x":0,"y":0};var Game={"_toUpdate":[],"_toDraw":[],"asteroidTimer":null,"shipTimer":null,"starPositionX":20,"starPositionY":15,"playerOne":null,"playerScore":0,"playerMultiplier":0,"textToScreen":0,"startScreen":function(e){e===!0?this.init():Home.init()},"gameOver":function(){console.log("dead"),gameoverED=!0,GameOver.init(this.playerScore,playerOne.multiplier,this.playerScore*playerOne.multiplier)},"init":function(){var e=new Asteroid(1),t=new Planet(1),n=new Ship(1);playerOne=new Player,this._toUpdate.push(t,e,n),this._toDraw.push(t,e,n),this._renderLoop()},"_renderLoop":function(){var e=this;if(gameoverED)return;requestAnimationFrame(function(){e._renderLoop()}),this._updateAll(),this._drawAll()},"_updateAll":function(){var e=this;this.asteroidTimer===null&&(this.asteroidTimer=setTimeout(function(){e.newAsteroid(),clearTimeout(e.asteroidTimer),e.asteroidTimer=null},5e3));for(var t=0,n=this._toUpdate.length;t<n;t++)this._toUpdate[t].update();this.playerScore=playerOne.score,this.textToScreen="LIVES DESTROYED: "+this.playerScore+" (MILLION) x "+playerOne.multiplier+" (BONUS)",playerOne.update()},"_drawAll":function(){canvas.ctx.clearRect(0,0,canvas.width,canvas.height);if(gameoverED)return;canvas.ctx.save(),canvas.ctx.fillStyle="#181818",canvas.ctx.fillRect(0,0,canvas.width,canvas.height),canvas.ctx.restore(),canvas.ctx.save(),canvas.ctx.fillStyle="rgba(255,255,255,1)",canvas.ctx.fillRect(this.starPositionX*1,this.starPositionY*1,2,2),canvas.ctx.fillRect(this.starPositionX*2,this.starPositionY*21,3,3),canvas.ctx.fillRect(this.starPositionX*3,this.starPositionY*3,2,2),canvas.ctx.fillRect(this.starPositionX*4,this.starPositionY*27,3,3),canvas.ctx.fillRect(this.starPositionX*5,this.starPositionY*39,2,2),canvas.ctx.fillRect(this.starPositionX*6,this.starPositionY*10,3,3),canvas.ctx.fillRect(this.starPositionX*7,this.starPositionY*17,3,3),canvas.ctx.fillRect(this.starPositionX*8,this.starPositionY*37,2,2),canvas.ctx.fillRect(this.starPositionX*9,this.starPositionY*32,3,3),canvas.ctx.fillRect(this.starPositionX*10,this.starPositionY*23,2,2),canvas.ctx.fillRect(this.starPositionX*11,this.starPositionY*35,3,3),canvas.ctx.fillRect(this.starPositionX*12,this.starPositionY*4,3,3),canvas.ctx.fillRect(this.starPositionX*13,this.starPositionY*7,2,2),canvas.ctx.fillRect(this.starPositionX*14,this.starPositionY*11,3,3),canvas.ctx.fillRect(this.starPositionX*15,this.starPositionY*30,2,2),canvas.ctx.fillRect(this.starPositionX*16,this.starPositionY*20,3,3),canvas.ctx.fillRect(this.starPositionX*17,this.starPositionY*39,3,3),canvas.ctx.fillRect(this.starPositionX*18,this.starPositionY*8,2,2),canvas.ctx.fillRect(this.starPositionX*19,this.starPositionY*13,3,3),canvas.ctx.fillRect(this.starPositionX*20,this.starPositionY*18,3,3),canvas.ctx.fillRect(this.starPositionX*21,this.starPositionY*25,3,3),canvas.ctx.fillRect(this.starPositionX*22,this.starPositionY*26,3,3),canvas.ctx.fillRect(this.starPositionX*23,this.starPositionY*6,3,3),canvas.ctx.fillRect(this.starPositionX*24,this.starPositionY*2,2,2),canvas.ctx.fillRect(this.starPositionX*25,this.starPositionY*31,3,3),canvas.ctx.fillRect(this.starPositionX*26,this.starPositionY*34,2,2),canvas.ctx.fillRect(this.starPositionX*27,this.starPositionY*28,3,3),canvas.ctx.fillRect(this.starPositionX*28,this.starPositionY*36,3,3),canvas.ctx.fillRect(this.starPositionX*29,this.starPositionY*9,2,2),canvas.ctx.fillRect(this.starPositionX*30,this.starPositionY*14,3,3),canvas.ctx.fillRect(this.starPositionX*31,this.starPositionY*5,3,3),canvas.ctx.fillRect(this.starPositionX*32,this.starPositionY*38,3,3),canvas.ctx.fillRect(this.starPositionX*33,this.starPositionY*10,3,3),canvas.ctx.fillRect(this.starPositionX*34,this.starPositionY*24,3,3),canvas.ctx.fillRect(this.starPositionX*35,this.starPositionY*33,2,2),canvas.ctx.fillRect(this.starPositionX*36,this.starPositionY*22,3,3),canvas.ctx.fillRect(this.starPositionX*37,this.starPositionY*23,3,3),canvas.ctx.fillRect(this.starPositionX*38,this.starPositionY*29,3,3),canvas.ctx.fillRect(this.starPositionX*39,this.starPositionY*19,3,3),canvas.ctx.restore();for(var e=0,t=this._toDraw.length;e<t;e++)this._toDraw[e].draw();playerOne.draw(),canvas.ctx.save(),canvas.ctx.fillStyle="#ccffff",canvas.ctx.font="bold 12px Arial",canvas.ctx.textAlign="left",canvas.ctx.fillText(this.textToScreen,20,canvas.height-20),canvas.ctx.textAlign="right",canvas.ctx.fillStyle="#cc3333",canvas.ctx.fillText("HEALTH: "+playerOne.health,canvas.width-20,canvas.height-20),canvas.ctx.restore()},"removeObject":function(e){for(var t=0,n=this._toDraw.length;t<n;t++)if(this._toDraw[t].id===e.id){this._toDraw.splice(t,1);break}for(var t=0,n=this._toUpdate.length;t<n;t++)if(this._toUpdate[t].id===e.id){this._toUpdate.splice(t,1);break}switch(e.type){case"planet":this.newPlanet();break;case"asteroid":this.newAsteroid();break;case"ship":this.newShip();break;default:console.log("fail")}},"newPlanet":function(){var e=new Planet;this._toUpdate.push(e),this._toDraw.push(e)},"newAsteroid":function(){var e=new Asteroid;this._toUpdate.push(e),this._toDraw.push(e)},"newShip":function(){var e=new Ship;this._toUpdate.push(e),this._toDraw.push(e)},"collisionDetection":function(e){var t=playerOne.x+playerOne.width<e.x,n=playerOne.x>e.x+e.width,r=playerOne.y>e.y+e.height,i=playerOne.y+playerOne.height<e.y;if(!(i||r||n||t)&&e.collided===!1){e.collided=!0;switch(e.type){case"planet":playerOne.score=playerOne.score+e.population;break;case"asteroid":playerOne.health-=10,console.log(playerOne.health);break;case"ship":playerOne.multiplier=e.multiplier;break;default:}}}},GameOver={"starPositionX":20,"starPositionY":15,"init":function(e,t,n){this.titleWidth=337,this.titleHeight=82,this.titleX=canvas.width/2-this.titleWidth/2,this.titleY=canvas.height/2-this.titleHeight/2-130,this.titleImage=new Image,this.titleImage.src="images/gameover.png",this.titleImageX=0,this.titleImageY=0,this.playerScore=e,this.playerMultiplier=t,this.playerTotal=n,this._renderLoop()},"_renderLoop":function(){var e=this;requestAnimationFrame(function(){e._renderLoop()}),this._update(),this._draw()},"_update":function(){},"_draw":function(){canvas.ctx.clearRect(0,0,canvas.width,canvas.height),canvas.ctx.save(),canvas.ctx.fillStyle="#181818",canvas.ctx.fillRect(0,0,canvas.width,canvas.height),canvas.ctx.restore(),canvas.ctx.save(),canvas.ctx.fillStyle="rgba(255,255,255,.6)",canvas.ctx.fillRect(this.starPositionX*1,this.starPositionY*1,2,2),canvas.ctx.fillRect(this.starPositionX*2,this.starPositionY*21,3,3),canvas.ctx.fillRect(this.starPositionX*3,this.starPositionY*3,2,2),canvas.ctx.fillRect(this.starPositionX*4,this.starPositionY*27,3,3),canvas.ctx.fillRect(this.starPositionX*5,this.starPositionY*39,2,2),canvas.ctx.fillRect(this.starPositionX*6,this.starPositionY*10,3,3),canvas.ctx.fillRect(this.starPositionX*7,this.starPositionY*17,3,3),canvas.ctx.fillRect(this.starPositionX*8,this.starPositionY*37,2,2),canvas.ctx.fillRect(this.starPositionX*9,this.starPositionY*32,3,3),canvas.ctx.fillRect(this.starPositionX*10,this.starPositionY*23,2,2),canvas.ctx.fillRect(this.starPositionX*11,this.starPositionY*35,3,3),canvas.ctx.fillRect(this.starPositionX*12,this.starPositionY*4,3,3),canvas.ctx.fillRect(this.starPositionX*13,this.starPositionY*7,2,2),canvas.ctx.fillRect(this.starPositionX*14,this.starPositionY*11,3,3),canvas.ctx.fillRect(this.starPositionX*15,this.starPositionY*30,2,2),canvas.ctx.fillRect(this.starPositionX*16,this.starPositionY*20,3,3),canvas.ctx.fillRect(this.starPositionX*17,this.starPositionY*39,3,3),canvas.ctx.fillRect(this.starPositionX*18,this.starPositionY*8,2,2),canvas.ctx.fillRect(this.starPositionX*19,this.starPositionY*13,3,3),canvas.ctx.fillRect(this.starPositionX*20,this.starPositionY*18,3,3),canvas.ctx.fillRect(this.starPositionX*21,this.starPositionY*25,3,3),canvas.ctx.fillRect(this.starPositionX*22,this.starPositionY*26,3,3),canvas.ctx.fillRect(this.starPositionX*23,this.starPositionY*6,3,3),canvas.ctx.fillRect(this.starPositionX*24,this.starPositionY*2,2,2),canvas.ctx.fillRect(this.starPositionX*25,this.starPositionY*31,3,3),canvas.ctx.fillRect(this.starPositionX*26,this.starPositionY*34,2,2),canvas.ctx.fillRect(this.starPositionX*27,this.starPositionY*28,3,3),canvas.ctx.fillRect(this.starPositionX*28,this.starPositionY*36,3,3),canvas.ctx.fillRect(this.starPositionX*29,this.starPositionY*9,2,2),canvas.ctx.fillRect(this.starPositionX*30,this.starPositionY*14,3,3),canvas.ctx.fillRect(this.starPositionX*31,this.starPositionY*5,3,3),canvas.ctx.fillRect(this.starPositionX*32,this.starPositionY*38,3,3),canvas.ctx.fillRect(this.starPositionX*33,this.starPositionY*10,3,3),canvas.ctx.fillRect(this.starPositionX*34,this.starPositionY*24,3,3),canvas.ctx.fillRect(this.starPositionX*35,this.starPositionY*33,2,2),canvas.ctx.fillRect(this.starPositionX*36,this.starPositionY*22,3,3),canvas.ctx.fillRect(this.starPositionX*37,this.starPositionY*23,3,3),canvas.ctx.fillRect(this.starPositionX*38,this.starPositionY*29,3,3),canvas.ctx.fillRect(this.starPositionX*39,this.starPositionY*19,3,3),canvas.ctx.restore(),canvas.ctx.drawImage(this.titleImage,this.titleImageX,this.titleImageY,this.titleWidth,this.titleHeight,this.titleX,this.titleY,this.titleWidth,this.titleHeight),canvas.ctx.save(),canvas.ctx.fillStyle="#ccffff",canvas.ctx.font="bold 12px Arial",canvas.ctx.textAlign="center",canvas.ctx.fillText("People Killed (Millions)".toUpperCase(),canvas.width/2,250),canvas.ctx.font="bold 14px Arial",canvas.ctx.fillText(this.playerScore,canvas.width/2,280),canvas.ctx.font="bold 12px Arial",canvas.ctx.fillText("Multiply By Space Ships Destroyed".toUpperCase(),canvas.width/2,310),canvas.ctx.font="bold 14px Arial",canvas.ctx.fillText(this.playerMultiplier,canvas.width/2,340),canvas.ctx.font="bold 12px Arial",canvas.ctx.fillText("Total Score".toUpperCase(),canvas.width/2,370),canvas.ctx.font="bold 14px Arial",canvas.ctx.fillText(this.playerTotal,canvas.width/2,400),canvas.ctx.restore()}},Home={"starPositionX":20,"starPositionY":15,"init":function(){this.titleWidth=597,this.titleHeight=82,this.titleX=canvas.width/2-this.titleWidth/2,this.titleY=canvas.height/2-this.titleHeight/2-30,this.titleImage=new Image,this.titleImage.src="images/sprite.png",this.titleImageX=2,this.titleImageY=2,this._updateHome(),this._drawHome()},"_updateHome":function(){},"_drawHome":function(){canvas.ctx.clearRect(0,0,canvas.width,canvas.height),canvas.ctx.save(),canvas.ctx.fillStyle="#181818",canvas.ctx.fillRect(0,0,canvas.width,canvas.height),canvas.ctx.restore(),canvas.ctx.save(),canvas.ctx.fillStyle="rgba(255,255,255,.6)",canvas.ctx.fillRect(this.starPositionX*1,this.starPositionY*1,2,2),canvas.ctx.fillRect(this.starPositionX*2,this.starPositionY*21,3,3),canvas.ctx.fillRect(this.starPositionX*3,this.starPositionY*3,2,2),canvas.ctx.fillRect(this.starPositionX*4,this.starPositionY*27,3,3),canvas.ctx.fillRect(this.starPositionX*5,this.starPositionY*39,2,2),canvas.ctx.fillRect(this.starPositionX*6,this.starPositionY*10,3,3),canvas.ctx.fillRect(this.starPositionX*7,this.starPositionY*17,3,3),canvas.ctx.fillRect(this.starPositionX*8,this.starPositionY*37,2,2),canvas.ctx.fillRect(this.starPositionX*9,this.starPositionY*32,3,3),canvas.ctx.fillRect(this.starPositionX*10,this.starPositionY*23,2,2),canvas.ctx.fillRect(this.starPositionX*11,this.starPositionY*35,3,3),canvas.ctx.fillRect(this.starPositionX*12,this.starPositionY*4,3,3),canvas.ctx.fillRect(this.starPositionX*13,this.starPositionY*7,2,2),canvas.ctx.fillRect(this.starPositionX*14,this.starPositionY*11,3,3),canvas.ctx.fillRect(this.starPositionX*15,this.starPositionY*30,2,2),canvas.ctx.fillRect(this.starPositionX*16,this.starPositionY*20,3,3),canvas.ctx.fillRect(this.starPositionX*17,this.starPositionY*39,3,3),canvas.ctx.fillRect(this.starPositionX*18,this.starPositionY*8,2,2),canvas.ctx.fillRect(this.starPositionX*19,this.starPositionY*13,3,3),canvas.ctx.fillRect(this.starPositionX*20,this.starPositionY*18,3,3),canvas.ctx.fillRect(this.starPositionX*21,this.starPositionY*25,3,3),canvas.ctx.fillRect(this.starPositionX*22,this.starPositionY*26,3,3),canvas.ctx.fillRect(this.starPositionX*23,this.starPositionY*6,3,3),canvas.ctx.fillRect(this.starPositionX*24,this.starPositionY*2,2,2),canvas.ctx.fillRect(this.starPositionX*25,this.starPositionY*31,3,3),canvas.ctx.fillRect(this.starPositionX*26,this.starPositionY*34,2,2),canvas.ctx.fillRect(this.starPositionX*27,this.starPositionY*28,3,3),canvas.ctx.fillRect(this.starPositionX*28,this.starPositionY*36,3,3),canvas.ctx.fillRect(this.starPositionX*29,this.starPositionY*9,2,2),canvas.ctx.fillRect(this.starPositionX*30,this.starPositionY*14,3,3),canvas.ctx.fillRect(this.starPositionX*31,this.starPositionY*5,3,3),canvas.ctx.fillRect(this.starPositionX*32,this.starPositionY*38,3,3),canvas.ctx.fillRect(this.starPositionX*33,this.starPositionY*10,3,3),canvas.ctx.fillRect(this.starPositionX*34,this.starPositionY*24,3,3),canvas.ctx.fillRect(this.starPositionX*35,this.starPositionY*33,2,2),canvas.ctx.fillRect(this.starPositionX*36,this.starPositionY*22,3,3),canvas.ctx.fillRect(this.starPositionX*37,this.starPositionY*23,3,3),canvas.ctx.fillRect(this.starPositionX*38,this.starPositionY*29,3,3),canvas.ctx.fillRect(this.starPositionX*39,this.starPositionY*19,3,3),canvas.ctx.restore(),console.log(this.titleImage,this.titleImageX,this.titleImageY,this.titleWidth,this.titleHeight,this.titleX,this.titleY,this.titleWidth,this.titleHeight),canvas.ctx.drawImage(this.titleImage,this.titleImageX,this.titleImageY,this.titleWidth,this.titleHeight,this.titleX,this.titleY,this.titleWidth,this.titleHeight)}},Planet=function(e){this.id=Utils.getId(),this.type="planet",this.x=canvas.width+100,this.y=Math.floor(Math.random()*(canvas.height-50))+1,this.direction=Math.floor(Math.random()*2)+0,this.width=50,this.height=this.width,this.population=Math.floor(Math.random()*26+10),this.speed=Math.floor(Math.random()*51+30),this.image=new Image,this.image.src="images/sprite.png",this.image.planetx=653,this.image.planety=2,this.image.tagx=705,this.image.tagy=2,this.updateCounter=1,this.first=e,this.collided=!1,this.particlesGenerated=!1,this.particleCount=10};Planet.prototype.update=function(){_this=this,this.x-=.1*this.speed,this.direction===1?this.y-=.5:this.y+=.5,this.x<-50&&this.destroy(),this.collided===!0&&(this.image.planetx=601,this.image.planety=2),Game.collisionDetection(this)},Planet.prototype.draw=function(){this.first===1&&canvas.ctx.drawImage(this.image,this.image.tagx,this.image.tagy,70,38,this.x-10,this.y-this.height,70,38),this.collided===!1?canvas.ctx.drawImage(this.image,this.image.planetx,this.image.planety,this.width,this.height,this.x,this.y,this.width,this.height):canvas.ctx.drawImage(this.image,this.image.planetx,this.image.planety,this.width,this.height,this.x,this.y,this.width,this.height)},Planet.prototype.destroy=function(){Game.removeObject(this)};var Player=function(){this.id="player",this.width=35,this.height=this.width,this.x=50,this.y=canvas.height/2-this.height,this.mousePosX=0,this.mousePosY=0,this.health=100,this.speed=5,this.image=new Image,this.image.src="images/sprite.png",this.image.playerx=828,this.image.playery=59,this.image.tagx=791,this.image.tagy=59,this.tagShowing=!0,this.updateCounter=1,this.multiplier=0,this.score=0};Player.prototype.update=function(){_this=this;if(this.x+this.width<=currentMousePos.x||this.x-0>=currentMousePos.x)this.x>currentMousePos.x?(this.x-=1*this.speed,this.mousePosX=currentMousePos.x):this.x<currentMousePos.x&&(this.x+=1*this.speed,this.mousePosX=currentMousePos.x);if(this.y+this.width<=currentMousePos.y||this.y-0>=currentMousePos.y)this.y>currentMousePos.y?(this.y-=1*this.speed,this.mousePosY=currentMousePos.y):this.y<currentMousePos.y&&(this.y+=1*this.speed,this.mousePosY=currentMousePos.y);this.updateCounter>=200&&this.tagShowing===!0&&(this.tagShowing=!1),this.updateCounter++,this.health<=0&&Game.gameOver()},Player.prototype.draw=function(){this.tagShowing===!0&&canvas.ctx.drawImage(this.image,this.image.tagx,this.image.tagy,35,38,this.x,this.y-this.height-20,35,38),canvas.ctx.drawImage(this.image,this.image.playerx,this.image.playery,this.width,this.height,this.x,this.y,this.width,this.height)},Player.prototype.destroy=function(){var e=this.id;Game.removeObject(e)};var Ship=function(e){this.id=Utils.getId(),this.type="ship",this.x=canvas.width+3e3,this.y=Math.floor(Math.random()*(canvas.height-50))+1,this.width=18,this.height=12,this.multiplier=Math.floor(Math.random()*4+2),this.speed=Math.floor(Math.random()*31+50),this.image=new Image,this.image.src="images/sprite.png",this.image.shipx=702,this.image.shipy=59,this.image.tagx=705,this.image.tagy=2,this.updateCounter=1,this.first=e,this.collided=!1};Ship.prototype.update=function(){_this=this,this.x-=.1*this.speed,this.x<-50&&this.destroy(),this.collided===!0&&(this.image.planetx=682,this.image.planety=59),Game.collisionDetection(this),this.updateCounter++},Ship.prototype.draw=function(){this.first===1&&canvas.ctx.drawImage(this.image,this.image.tagx,this.image.tagy,70,38,this.x-25,this.y-(this.height+40),70,38),this.collided===!1?canvas.ctx.drawImage(this.image,this.image.shipx,this.image.shipy,this.width,this.height,this.x,this.y,this.width,this.height):canvas.ctx.drawImage(this.image,this.image.planetx,this.image.planety,this.width,this.height,this.x,this.y,this.width,this.height)},Ship.prototype.destroy=function(){Game.removeObject(this)};var Utils={"latestId":0,"getId":function(){return this.latestId++,this.latestId}},gameoverED=!1;_canvas.addEventListener("mousemove",function(e){currentMousePos=getMousePos(_canvas,e)},!1),function(){var e=0,t=["ms","moz","webkit","o"];for(var n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),s=window.setTimeout(function(){t(r+i)},i);return e=r+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();